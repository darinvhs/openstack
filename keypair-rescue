# Rescue instance using live CD from RC Admin
openstack image list | grep -i live
openstack server rescue --image [live-image-ID] [instance-ID]

# Booting to live CD, restart and login using console
# Mount root partition
fdisk -l
mount /dev/vdb1 /mnt
chroot /mnt

# Add temporary user, and grant sudo access
adduser [username]
passwd [username]
usermod -a -G whell/sudo [username]

# Modified ssh configuration
# Enable below lines
vi /etc/ssh/sshd_config
Port 22
ListenAddress 0.0.0.0
PermitRootLogin yes
PasswordAuthentication yes
AllowUsers [username]

# Check SELinux, disable if necessary
vi /etc/selinux/config
SELinux=disabled

setenforce 0
systemctl restart sshd

# SSH to instance
# Add new keypair to authorized_keys

openstack server unrescue [instance-ID]


ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDDylLwiUVw1Zae48PgCBam9jmGAmdq8XZ4qdrc/H8P1Zfody4KycLoKNrL7qbaV/1pM2uE38wtGHb/N5Bfs75Fp75WBt8iJIdStgw2unLomNVh3vVXQeP5U62A5jeR+BSlvOq0UIr89rIXXvqQsmegh/zps/xToImQ5cFo1uqPVg2C8oJhHXgWq+O0jANeMOI2qO7fack8ePmLJ5P/YS3jCcjQSXNAevB0tCXtnypZuOJiJWzkzKTRDIoKwf+lhjs+pyY2pqgWiiM/XYT2590Ma2NX9gASfHTdql2/lS9YM8KyS0Tqg+AoMRnQ4xSRc7GXmmosRCNqHDRTv9oo2a3v darin@A1-PF0P8E0D
